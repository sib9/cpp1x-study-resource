
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>外部模板</title>
   <meta name="author" content="Sib9" />

   <link rel="start" href="/" />

	
	
	
	

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/assets/themes/mark-reid/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/assets/themes/mark-reid/css/screen.css" type="text/css" />

</head>
<body id="">
<div id="site">
  <a href="https://github.com/sib9/cpp1x-study-resource"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

  
<div id="page">
	
  <h1 class="emphnext">外部模板</h1>
  <ul class="tag_box inline">
  
  


  
    
  



  </ul>

  <p>在标准C++中，只要在编译单元内遇到被完整定义的模板，编译器都必须将其实例化(instantiate)。这会大大增加编译时间，特别是模板在许多编译单元内使用相同的参数实例化。</p>

<p>原 C++ 强制编译器在特定位置开始实例化的语法：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">template class std::vector&lt;MyClass&gt;;
</code></pre></div>
<p>C++11 引入外部模板这一概念，将强制编译器在特定位置开始实例化，使用 extern 来显式组织编译器在某个编译单元内实例化。使用如下代码：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">extern template class std::vector&lt;MyClass&gt;;
</code></pre></div>
<p>这样告诉编译器不要在该编译单元内将该模板实例化(因为已经在别的单元实例化了)。</p>

<p>以上来自<a href="http://zh.wikipedia.org/wiki/C%2B%2B11#.E5.A4.96.E9.83.A8.E6.A8.A1.E6.9D.BF">外部模板</a>，我对语言稍作组织。另，这个概念比较好理解，就不再举例说明了。</p>


  <div class="prev-next">
  
    <a href="/Initializer-lists.html" class="next" title="初始化列表"> 初始化列表 &rarr;</a>
  
  
    <a href="/Explicitly-Defaulted-and-Deleted-Special-Member-Functions.html" class="prev" title="显式使用或禁用特定的成员函数">&larr; 显式使用或禁用特定的成员函数</a>
  
  </div>
  
</div><!-- End Page -->




  
</div>

<!--[if IE 6]>
<script type="text/javascript"> 
	/*Load jQuery if not already loaded*/ if(typeof jQuery == 'undefined'){ document.write("<script type=\"text/javascript\"   src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"></"+"script>"); var __noconflict = true; } 
	var IE6UPDATE_OPTIONS = {
		icons_path: "http://static.ie6update.com/hosted/ie6update/images/"
	}
</script>
<script type="text/javascript" src="http://static.ie6update.com/hosted/ie6update/ie6update.js"></script>
<![endif]-->

  
</body>
</html>

